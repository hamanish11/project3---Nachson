<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Encryption Example</title>
</head>
<body>
    <h1>JavaScript Encryption Example</h1>
    <script>
        function textToBinary(text) {
            return text.split('').map(char => {
                const binary = char.charCodeAt(0).toString(2);
                return binary.padStart(8, '0');
            }).join(' ');
        }

        function binaryToUint8Array(binaryString) {
            const bytes = binaryString.split(' ').map(bin => parseInt(bin, 2));
            return new Uint8Array(bytes);
        }

        // Function to convert Uint8Array to Base64
        function uint8ArrayToBase64(uint8Array) {
            let binaryString = '';
            uint8Array.forEach(byte => {
                binaryString += String.fromCharCode(byte);
            });
            return btoa(binaryString);
        }

        // Main function to handle conversion
        function encryptTextToBase64(text) {
            const binaryString = textToBinary(text);
            const uint8Array = binaryToUint8Array(binaryString);
            return uint8ArrayToBase64(uint8Array);
        }

        // Russian text
        const russianText = `
        Тест функции внимания 
        Нажмите на <продолжает> для перехода на инструкции
        <продолжает> 
        на протяжении экзамена на экране будут появляться на короткое время одна из следующих 4 форм:
        Каждая форма может появиться в одном из следующих цветов:
        Вы должны нажать на клавишу < пробел> каждый раз когда на экране появится зеленый круг, и только когда появляется эта форма.
        старайтесь выполнить задание как можно быстро и чётко как вы можете.
        Чтобы начать экзамены нажмите <начать >.
        <продолжает> 
        на протяжении экзамена на экране будут появляться на короткое время одна из следующих 4 форм:
        Каждая форма может появиться в одном из следующих цветов:
        Вы должны нажать на клавишу < пробел> каждый раз когда на экране появится зеленый круг, и только когда появляется эта форма.
        старайтесь выполнить задание как можно быстро и чётко как вы можете.
        Теперь, перед вами будут представлены несколько заданий как пример для вас, чтобы вы могли испытать экзамен. 
        Чтобы продолжить нажмите на <Примеры заданий>
        < продолжает > 
        Нажмите < Назад к инструкциям > Если вы хотите вернуться к экрану инструкций
        Нажмите клавишу <продолжает> чтобы начать экзамен
        <продолжает> 
        < Назад к инструкциям >
        некоторые задания были выполнены неверно, поэтому важно еще раз прочитать инструкцию
        нажмите на <вернуться к инструкции> чтобы вернуться к инструкции и примеры заданий.
        <вернуться к инструкции>
        ошибкапровелно
        Пожалуйста Оставайтесь на месте
        Вы не прошли Практические задания
        Экзамен начинается сейчас
        Произошла ошибка, пожалуйста обратитесь к экзаменатору
        екзамен окончен
        Пожалуйста, оставайтесь на месте
        `;

        // Encrypt the Russian text and output the Base64-encoded result
        const base64Encoded = encryptTextToBase64(russianText);
        document.body.innerHTML += `<p>Base64 Encoded: ${base64Encoded}</p>`;
    </script>
</body>
</html>